{"remainingRequest":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\babel-loader\\lib\\index.js!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\UbikeTable.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\UbikeTable.vue","mtime":1598037015178},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597545075644},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1597545075581},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597545075644},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1597545087688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCBidXMgZnJvbSAiLi4vYnVzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBwYXJlbnRNZXNzYWdlOiBbXQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaE5hbWVUZXh0OiAiIiwKICAgICAgcGFnZUNvdW50OiAxMCwKICAgICAgLy/kuIDpoIExMOethgogICAgICBzdGFydEluZGV4OiAwLAogICAgICBlbmRJbmRleDogMTAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgU2hvd0xpc3Q6IGZ1bmN0aW9uIFNob3dMaXN0KCkgewogICAgICByZXR1cm4gdGhpcy5wYXJlbnRNZXNzYWdlOwogICAgfSwKICAgIHVCaWtlU3RvcHNGaWx0ZXI6IGZ1bmN0aW9uIHVCaWtlU3RvcHNGaWx0ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVzdWx0ID0gW107CgogICAgICBpZiAodGhpcy5zZWFyY2hOYW1lVGV4dC5sZW5ndGggIT0gMCkgewogICAgICAgIHJlc3VsdCA9IHRoaXMuU2hvd0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gZC5zbmEudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhfdGhpcy5zZWFyY2hOYW1lVGV4dC50b0xvd2VyQ2FzZSgpKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQgPSB0aGlzLlNob3dMaXN0OwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIHVCaWtlU3RvcHNTaG93OiBmdW5jdGlvbiB1QmlrZVN0b3BzU2hvdygpIHsKICAgICAgcmV0dXJuIHRoaXMudUJpa2VTdG9wc0ZpbHRlci5zbGljZSh0aGlzLnN0YXJ0SW5kZXgsIHRoaXMuZW5kSW5kZXgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc29ydGNvbHVtbjogZnVuY3Rpb24gc29ydGNvbHVtbih2YWwsIGNvbCkgewogICAgICByZXR1cm4gdGhpcy5TaG93TGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIChhW2NvbF0gLSBiW2NvbF0pICogdmFsOwogICAgICB9KTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB1QmlrZVN0b3BzRmlsdGVyOiBmdW5jdGlvbiB1QmlrZVN0b3BzRmlsdGVyKCkgewogICAgICB0aGlzLnN0YXJ0SW5kZXggPSAwOwogICAgICB0aGlzLmVuZEluZGV4ID0gdGhpcy5zdGFydEluZGV4ICsgdGhpcy5wYWdlQ291bnQ7CiAgICAgIGJ1cy5lbWl0KCJ0b3RhbERhdGFDb3VudCIsIHRoaXMudUJpa2VTdG9wc0ZpbHRlci5sZW5ndGgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGJ1cy5vbigic2VhcmNoIiwgZnVuY3Rpb24gKG1zZykgewogICAgICBfdGhpczIuc2VhcmNoTmFtZVRleHQgPSBtc2c7CiAgICB9KTsKICAgIGJ1cy5vbigianVtcFBhZ2UiLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgIF90aGlzMi5zdGFydEluZGV4ID0gdmFsLnN0YXJ0SW5kZXg7CiAgICAgIF90aGlzMi5lbmRJbmRleCA9IHZhbC5lbmRJbmRleDsKICAgIH0pOwogIH0sCiAgYmVmb3JlVW5tb3VudDogZnVuY3Rpb24gYmVmb3JlVW5tb3VudCgpIHsKICAgIGJ1cy5vZmYoInNlYXJjaCIpOwogICAgYnVzLm9mZigianVtcFBhZ2UiKTsKICB9Cn07"},{"version":3,"sources":["D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\UbikeTable.vue"],"names":[],"mappings":";;;;AAoCA,OAAO,GAAP,MAAgB,QAAhB;AACA,eAAe;AACb,EAAA,KAAK,EAAE;AACL,IAAA,aAAa,EAAE;AADV,GADM;AAIb,EAAA,IAJa,kBAIN;AACL,WAAO;AACL,MAAA,cAAc,EAAE,EADX;AAEL,MAAA,SAAS,EAAE,EAFN;AAEU;AACf,MAAA,UAAU,EAAE,CAHP;AAIL,MAAA,QAAQ,EAAE;AAJL,KAAP;AAMD,GAXY;AAYb,EAAA,QAAQ,EAAE;AACR,IAAA,QADQ,sBACG;AACT,aAAO,KAAK,aAAZ;AACD,KAHO;AAKR,IAAA,gBALQ,8BAKW;AAAA;;AACjB,UAAI,MAAK,GAAI,EAAb;;AACA,UAAI,KAAK,cAAL,CAAoB,MAApB,IAA8B,CAAlC,EAAqC;AACnC,QAAA,MAAK,GAAI,KAAK,QAAL,CAAc,MAAd,CAAqB,UAAC,CAAD;AAAA,iBAC5B,CAAC,CAAC,GAAF,CAAM,WAAN,GAAoB,QAApB,CAA6B,KAAI,CAAC,cAAL,CAAoB,WAApB,EAA7B,CAD4B;AAAA,SAArB,CAAT;AAGF,OAJA,MAIO;AACL,QAAA,MAAK,GAAI,KAAK,QAAd;AACF;;AACA,aAAO,MAAP;AACD,KAfO;AAgBR,IAAA,cAhBQ,4BAgBS;AACf,aAAO,KAAK,gBAAL,CAAsB,KAAtB,CAA4B,KAAK,UAAjC,EAA6C,KAAK,QAAlD,CAAP;AACD;AAlBO,GAZG;AAgCb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACI,GADJ,EACS,GADT,EACc;AACnB,aAAO,KAAK,QAAL,CAAc,IAAd,CAAmB,UAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,CAAC,CAAC,CAAC,GAAD,CAAD,GAAS,CAAC,CAAC,GAAD,CAAX,IAAoB,GAA9B;AAAA,OAAnB,CAAP;AACD;AAHM,GAhCI;AAqCb,EAAA,KAAK,EAAE;AACL,IAAA,gBAAgB,EAAE,4BAAY;AAC5B,WAAK,UAAL,GAAkB,CAAlB;AACA,WAAK,QAAL,GAAgB,KAAK,UAAL,GAAkB,KAAK,SAAvC;AACA,MAAA,GAAG,CAAC,IAAJ,CAAS,gBAAT,EAA2B,KAAK,gBAAL,CAAsB,MAAjD;AACD;AALI,GArCM;AA4Cb,EAAA,OA5Ca,qBA4CH;AAAA;;AACR,IAAA,GAAG,CAAC,EAAJ,CAAO,QAAP,EAAiB,UAAC,GAAD,EAAS;AACxB,MAAA,MAAI,CAAC,cAAL,GAAsB,GAAtB;AACD,KAFD;AAGA,IAAA,GAAG,CAAC,EAAJ,CAAO,UAAP,EAAmB,UAAC,GAAD,EAAS;AAC1B,MAAA,MAAI,CAAC,UAAL,GAAkB,GAAG,CAAC,UAAtB;AACA,MAAA,MAAI,CAAC,QAAL,GAAgB,GAAG,CAAC,QAApB;AACD,KAHD;AAID,GApDY;AAqDb,EAAA,aArDa,2BAqDG;AACd,IAAA,GAAG,CAAC,GAAJ,CAAQ,QAAR;AACA,IAAA,GAAG,CAAC,GAAJ,CAAQ,UAAR;AACD;AAxDY,CAAf","sourcesContent":["<template>\r\n  <div>\r\n    <table class=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>場站名稱</th>\r\n          <th>場站區域</th>\r\n          <th>\r\n            目前可用車輛\r\n            <i @click=\"sortcolumn(1,'sbi')\" class=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\r\n            <i @click=\"sortcolumn(-1,'sbi')\" class=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\r\n          </th>\r\n          <th>\r\n            總停車格\r\n            <i @click=\"sortcolumn(1,'tot')\" class=\"fa fa-sort-asc\" aria-hidden=\"true\"></i>\r\n            <i @click=\"sortcolumn(-1,'tot')\" class=\"fa fa-sort-desc\" aria-hidden=\"true\"></i>\r\n          </th>\r\n          <th>資料更新時間</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"s in uBikeStopsShow\" :key=\"s\">\r\n          <td>{{ s.sno }}</td>\r\n          <td>{{ s.sna }}</td>\r\n          <td>{{ s.sarea }}</td>\r\n          <td>{{ s.sbi }}</td>\r\n          <td>{{ s.tot }}</td>\r\n          <td>{{ s.mday }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from \"../bus\";\r\nexport default {\r\n  props: {\r\n    parentMessage: [],\r\n  },\r\n  data() {\r\n    return {\r\n      searchNameText: \"\",\r\n      pageCount: 10, //一頁10筆\r\n      startIndex: 0,\r\n      endIndex: 10,\r\n    };\r\n  },\r\n  computed: {\r\n    ShowList() {\r\n      return this.parentMessage;\r\n    },\r\n\r\n    uBikeStopsFilter() {\r\n      var result = [];\r\n      if (this.searchNameText.length != 0) {\r\n        result = this.ShowList.filter((d) =>\r\n          d.sna.toLowerCase().includes(this.searchNameText.toLowerCase())\r\n        );\r\n      } else {\r\n        result = this.ShowList;\r\n      }\r\n      return result;\r\n    },\r\n    uBikeStopsShow() {\r\n      return this.uBikeStopsFilter.slice(this.startIndex, this.endIndex);\r\n    },\r\n  },\r\n  methods: {\r\n    sortcolumn(val, col) {\r\n      return this.ShowList.sort((a, b) => (a[col] - b[col]) * val);\r\n    },\r\n  },\r\n  watch: {\r\n    uBikeStopsFilter: function () {\r\n      this.startIndex = 0;\r\n      this.endIndex = this.startIndex + this.pageCount;\r\n      bus.emit(\"totalDataCount\", this.uBikeStopsFilter.length);\r\n    },\r\n  },\r\n  created() {\r\n    bus.on(\"search\", (msg) => {\r\n      this.searchNameText = msg;\r\n    });\r\n    bus.on(\"jumpPage\", (val) => {\r\n      this.startIndex = val.startIndex;\r\n      this.endIndex = val.endIndex;\r\n    });\r\n  },\r\n  beforeUnmount() {\r\n    bus.off(\"search\");\r\n    bus.off(\"jumpPage\");\r\n  },\r\n};\r\n</script>    "],"sourceRoot":""}]}