{"remainingRequest":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\babel-loader\\lib\\index.js!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\Pagination.vue?vue&type=template&id=849a166c&scoped=true","dependencies":[{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\Pagination.vue","mtime":1598055047725},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597545075644},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1597545075581},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1597545087688},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597545075644},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1597545087688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtODQ5YTE2NmMiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTg0OWExNjZjIik7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImEiLCB7CiAgaHJlZjogIiMiCn0sICI8IiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJhIiwgewogIGhyZWY6ICIjIgp9LCAiPiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoInVsIiwgbnVsbCwgW19jdHgucGFnZVJhbmdlSW5kZXggPiAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJsaSIsIHsKICAgIGtleTogMCwKICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC5jaGFuZ2VSYW5nZSgnbGVzcycpOwogICAgfSksCiAgICBjbGFzczogInBhZ2VyIgogIH0sIFtfaG9pc3RlZF8xXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5tYXhQYWdlLCBmdW5jdGlvbiAobikgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJsaSIsIHsKICAgICAgY2xhc3M6ICJwYWdlciIsCiAgICAgIGtleTogbgogICAgfSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiBuIOW+niAxIOmWi+Wni+ioiOeulyAiKSwgX2NyZWF0ZVZOb2RlKCJhIiwgewogICAgICBvbkNsaWNrOiBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF9jdHguY2hhbmdlUGFnZShuKTsKICAgICAgfSwgWyJwcmV2ZW50Il0pLAogICAgICBocmVmOiAiIyIKICAgIH0sIF90b0Rpc3BsYXlTdHJpbmcoX2N0eC5wYWdlUmFuZ2VJbmRleCAqIF9jdHgucGFnZVJhbmdlICsgbiksIDkKICAgIC8qIFRFWFQsIFBST1BTICovCiAgICAsIFsib25DbGljayJdKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpLCBfY3R4LnBhZ2VSYW5nZUluZGV4IDwgX2N0eC50b3RhbFBhZ2VDb3VudCAvIF9jdHgucGFnZUNvdW50IC0gMSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygibGkiLCB7CiAgICBrZXk6IDEsCiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuIF9jdHguY2hhbmdlUmFuZ2UoJ2FkZCcpOwogICAgfSksCiAgICBjbGFzczogInBhZ2VyIgogIH0sIFtfaG9pc3RlZF8yXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSldKTsKfSk7"},{"version":3,"sources":["D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\Pagination.vue"],"names":[],"mappings":";;;;;;8BAIQ,YAAA,CAAoB,GAApB,EAAoB;AAAjB,EAAA,IAAI,EAAC;AAAY,CAApB,EAAY,GAAZ,EAAgB,CAAA;AAAA;AAAhB,C;;8BAWA,YAAA,CAAoB,GAApB,EAAoB;AAAjB,EAAA,IAAI,EAAC;AAAY,CAApB,EAAY,GAAZ,EAAgB,CAAA;AAAA;AAAhB,C;;;;;uBAdN,YAAA,CAiBM,KAjBN,EAiBM,IAjBN,EAiBM,CAhBJ,YAAA,CAeK,IAfL,EAeK,IAfL,EAeK,CAdO,IAAA,CAAA,cAAA,GAAc,C,kBAAxB,YAAA,CAEK,IAFL,EAEK;UAAA;AAF0B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,WAAA,CAAW,MAAX,CAAF;AAAA,KAAA,CAE/B;AAFsD,IAAA,KAAK,EAAC;AAE5D,GAFL,E,CACE,U,CADF,C,qCAcG,G,kBAXH,YAAA,CAGK,SAHL,EAGK,IAHL,EAGK,WAAA,CAHyB,IAAA,CAAA,OAGzB,EAHgC,UAAZ,CAAY,EAAX;yBAA1B,YAAA,CAGK,IAHL,EAGK;AAHD,MAAA,KAAK,EAAC,OAGL;AAHmC,MAAA,GAAG,EAAE;AAGxC,KAHL,E,CACE,mBAAA,CAAA,cAAA,C,EACA,YAAA,CAAkF,GAAlF,EAAkF;AAA9E,MAAA,OAAK,EAAA,cAAA,CAAA,UAAA,MAAA;AAAA,eAAU,IAAA,CAAA,UAAA,CAAW,CAAX,CAAV;AAAA,OAAA,EAAsB,CAAA,SAAA,CAAtB,CAAyE;AAAhD,MAAA,IAAI,EAAC;AAA2C,KAAlF,E,iBAA+C,IAAA,CAAA,cAAA,GAAe,IAAA,CAAA,S,GAAY,C,CAA1E,EAA2E;AAAA;AAA3E,MAA2E,CAAA,SAAA,CAA3E,C,CAFF,C;GAGK,CAHL,E;;AAAA,GAWG,GANK,IAAA,CAAA,cAAA,GAAkB,IAAA,CAAA,cAAA,GAAe,IAAA,CAAA,SAAf,GAAwB,C,kBADlD,YAAA,CAMK,IANL,EAMK;UAAA;AAJF,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,IAAA,CAAA,WAAA,CAAW,KAAX,CAAF;AAAA,KAAA,CAIH;AAHH,IAAA,KAAK,EAAC;AAGH,GANL,E,CAKE,U,CALF,C,qCAOG,CAfL,CAgBI,CAjBN,C","sourcesContent":["<template>\r\n  <div>\r\n    <ul>\r\n      <li v-if=\"pageRangeIndex > 0\" @click=\"changeRange('less')\" class=\"pager\">\r\n        <a href=\"#\">&lt;</a>\r\n      </li>\r\n      <li class=\"pager\" v-for=\"n of maxPage\" :key=\"n\">\r\n        <!-- n 從 1 開始計算 -->\r\n        <a @click.prevent=\"changePage(n)\" href=\"#\">{{ (pageRangeIndex*pageRange)+ n }}</a>\r\n      </li>\r\n      <li\r\n        v-if=\"pageRangeIndex < (totalPageCount/pageCount-1)\"\r\n        @click=\"changeRange('add')\"\r\n        class=\"pager\"\r\n      >\r\n        <a href=\"#\">&gt;</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport bus from \"../bus\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageCount: 10, //一頁10筆\r\n      pageRange: 10, //分頁一次顯示十頁\r\n      pageRangeIndex: 0,\r\n      totalRecordCount: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    totalPageCount() {\r\n      return Math.ceil(this.totalRecordCount / this.pageCount);\r\n    },\r\n    maxPage() {\r\n      var mod = this.totalPageCount % this.pageRange;\r\n      if (this.totalRecordCount === 0) {\r\n        return 0;\r\n      } else if (\r\n        this.pageRangeIndex ===\r\n          Math.ceil(this.totalPageCount / this.pageCount) - 1 &&\r\n        mod != 0\r\n      ) {\r\n        return mod;\r\n      }\r\n      return this.pageRange;\r\n    },\r\n  },\r\n  methods: {\r\n    changePage(val) {\r\n      var s = (this.pageRangeIndex * this.pageCount * this.pageRange) + (val - 1) * this.pageCount;\r\n      bus.emit(\"jumpPage\", {\r\n        startIndex: s,\r\n        endIndex: Number.parseInt(s + this.pageCount),\r\n      });\r\n    },\r\n    changeRange(val) {\r\n      if (val === \"add\") this.pageRangeIndex = this.pageRangeIndex + 1;\r\n      else if (val === \"less\") this.pageRangeIndex = this.pageRangeIndex - 1;\r\n    },\r\n  },\r\n  watch: {\r\n    totalRecordCount: function () {\r\n      this.pageRangeIndex = 0;\r\n    },\r\n  },\r\n  created() {\r\n    bus.on(\"totalDataCount\", (msg) => {\r\n      this.totalRecordCount = msg;\r\n    });\r\n  },\r\n  beforeUnmount() {\r\n    bus.off(\"totalDataCount\");\r\n  },\r\n};\r\n</script>    \r\n<style scoped>\r\n.pager {\r\n  float: left;\r\n  display: block;\r\n  width: 20px;\r\n  height: 20px;\r\n  text-align: center;\r\n  line-height: 20px;\r\n  margin-right: 5px;\r\n  padding: 5px;\r\n  border: 1px solid #aaa;\r\n}\r\n\r\n.pager a {\r\n  text-decoration: none;\r\n}\r\n</style>"],"sourceRoot":""}]}