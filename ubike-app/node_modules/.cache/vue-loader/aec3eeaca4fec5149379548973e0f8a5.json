{"remainingRequest":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\Pagination.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\Pagination.vue","mtime":1598055047725},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597545075644},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1597545075581},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1597545075644},{"path":"D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1597545087688}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgYnVzIGZyb20gIi4uL2J1cyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhZ2VDb3VudDogMTAsIC8v5LiA6aCBMTDnrYYNCiAgICAgIHBhZ2VSYW5nZTogMTAsIC8v5YiG6aCB5LiA5qyh6aGv56S65Y2B6aCBDQogICAgICBwYWdlUmFuZ2VJbmRleDogMCwNCiAgICAgIHRvdGFsUmVjb3JkQ291bnQ6IDAsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICB0b3RhbFBhZ2VDb3VudCgpIHsNCiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50b3RhbFJlY29yZENvdW50IC8gdGhpcy5wYWdlQ291bnQpOw0KICAgIH0sDQogICAgbWF4UGFnZSgpIHsNCiAgICAgIHZhciBtb2QgPSB0aGlzLnRvdGFsUGFnZUNvdW50ICUgdGhpcy5wYWdlUmFuZ2U7DQogICAgICBpZiAodGhpcy50b3RhbFJlY29yZENvdW50ID09PSAwKSB7DQogICAgICAgIHJldHVybiAwOw0KICAgICAgfSBlbHNlIGlmICgNCiAgICAgICAgdGhpcy5wYWdlUmFuZ2VJbmRleCA9PT0NCiAgICAgICAgICBNYXRoLmNlaWwodGhpcy50b3RhbFBhZ2VDb3VudCAvIHRoaXMucGFnZUNvdW50KSAtIDEgJiYNCiAgICAgICAgbW9kICE9IDANCiAgICAgICkgew0KICAgICAgICByZXR1cm4gbW9kOw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRoaXMucGFnZVJhbmdlOw0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjaGFuZ2VQYWdlKHZhbCkgew0KICAgICAgdmFyIHMgPSAodGhpcy5wYWdlUmFuZ2VJbmRleCAqIHRoaXMucGFnZUNvdW50ICogdGhpcy5wYWdlUmFuZ2UpICsgKHZhbCAtIDEpICogdGhpcy5wYWdlQ291bnQ7DQogICAgICBidXMuZW1pdCgianVtcFBhZ2UiLCB7DQogICAgICAgIHN0YXJ0SW5kZXg6IHMsDQogICAgICAgIGVuZEluZGV4OiBOdW1iZXIucGFyc2VJbnQocyArIHRoaXMucGFnZUNvdW50KSwNCiAgICAgIH0pOw0KICAgIH0sDQogICAgY2hhbmdlUmFuZ2UodmFsKSB7DQogICAgICBpZiAodmFsID09PSAiYWRkIikgdGhpcy5wYWdlUmFuZ2VJbmRleCA9IHRoaXMucGFnZVJhbmdlSW5kZXggKyAxOw0KICAgICAgZWxzZSBpZiAodmFsID09PSAibGVzcyIpIHRoaXMucGFnZVJhbmdlSW5kZXggPSB0aGlzLnBhZ2VSYW5nZUluZGV4IC0gMTsNCiAgICB9LA0KICB9LA0KICB3YXRjaDogew0KICAgIHRvdGFsUmVjb3JkQ291bnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMucGFnZVJhbmdlSW5kZXggPSAwOw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgYnVzLm9uKCJ0b3RhbERhdGFDb3VudCIsIChtc2cpID0+IHsNCiAgICAgIHRoaXMudG90YWxSZWNvcmRDb3VudCA9IG1zZzsNCiAgICB9KTsNCiAgfSwNCiAgYmVmb3JlVW5tb3VudCgpIHsNCiAgICBidXMub2ZmKCJ0b3RhbERhdGFDb3VudCIpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["D:\\tmp\\vuetest\\vue-ubike-information\\ubike-app\\src\\components\\Pagination.vue"],"names":[],"mappings":"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","file":"D:/tmp/vuetest/vue-ubike-information/ubike-app/src/components/Pagination.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <ul>\r\n      <li v-if=\"pageRangeIndex > 0\" @click=\"changeRange('less')\" class=\"pager\">\r\n        <a href=\"#\">&lt;</a>\r\n      </li>\r\n      <li class=\"pager\" v-for=\"n of maxPage\" :key=\"n\">\r\n        <!-- n 從 1 開始計算 -->\r\n        <a @click.prevent=\"changePage(n)\" href=\"#\">{{ (pageRangeIndex*pageRange)+ n }}</a>\r\n      </li>\r\n      <li\r\n        v-if=\"pageRangeIndex < (totalPageCount/pageCount-1)\"\r\n        @click=\"changeRange('add')\"\r\n        class=\"pager\"\r\n      >\r\n        <a href=\"#\">&gt;</a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n<script>\r\nimport bus from \"../bus\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageCount: 10, //一頁10筆\r\n      pageRange: 10, //分頁一次顯示十頁\r\n      pageRangeIndex: 0,\r\n      totalRecordCount: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    totalPageCount() {\r\n      return Math.ceil(this.totalRecordCount / this.pageCount);\r\n    },\r\n    maxPage() {\r\n      var mod = this.totalPageCount % this.pageRange;\r\n      if (this.totalRecordCount === 0) {\r\n        return 0;\r\n      } else if (\r\n        this.pageRangeIndex ===\r\n          Math.ceil(this.totalPageCount / this.pageCount) - 1 &&\r\n        mod != 0\r\n      ) {\r\n        return mod;\r\n      }\r\n      return this.pageRange;\r\n    },\r\n  },\r\n  methods: {\r\n    changePage(val) {\r\n      var s = (this.pageRangeIndex * this.pageCount * this.pageRange) + (val - 1) * this.pageCount;\r\n      bus.emit(\"jumpPage\", {\r\n        startIndex: s,\r\n        endIndex: Number.parseInt(s + this.pageCount),\r\n      });\r\n    },\r\n    changeRange(val) {\r\n      if (val === \"add\") this.pageRangeIndex = this.pageRangeIndex + 1;\r\n      else if (val === \"less\") this.pageRangeIndex = this.pageRangeIndex - 1;\r\n    },\r\n  },\r\n  watch: {\r\n    totalRecordCount: function () {\r\n      this.pageRangeIndex = 0;\r\n    },\r\n  },\r\n  created() {\r\n    bus.on(\"totalDataCount\", (msg) => {\r\n      this.totalRecordCount = msg;\r\n    });\r\n  },\r\n  beforeUnmount() {\r\n    bus.off(\"totalDataCount\");\r\n  },\r\n};\r\n</script>    \r\n<style scoped>\r\n.pager {\r\n  float: left;\r\n  display: block;\r\n  width: 20px;\r\n  height: 20px;\r\n  text-align: center;\r\n  line-height: 20px;\r\n  margin-right: 5px;\r\n  padding: 5px;\r\n  border: 1px solid #aaa;\r\n}\r\n\r\n.pager a {\r\n  text-decoration: none;\r\n}\r\n</style>"]}]}